
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>iic硬件原理及源代码 | Echoのせかい</title>
    <meta name="author" content="江城子echo" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" href="/images/1.jpg" />
    <link rel="preconnect" href="https://cdn.staticfile.org" />
<script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="preconnect" href="https://fonts.loli.net" />
<link rel="preconnect" href="https://gstatic.loli.net" crossorigin />
<link rel="stylesheet" href="https://fonts.loli.net/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 6.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading2.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>ECHOのせかい</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;ECHOのせかい</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>iic硬件原理及源代码</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/11/10
        </span>
        
        <span class="category">
            <a href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                嵌入式系统
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/Inter-Integrated-Circuit%EF%BC%88%E5%86%85%E9%83%A8%E9%9B%86%E6%88%90%E7%94%B5%E8%B7%AF%EF%BC%89/" style="color: #00bcd4">Inter-Integrated Circuit（内部集成电路）</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E6%80%BB%E7%BA%BF%E5%8D%8F%E8%AE%AE/" style="color: #ff7d73">总线协议</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F/" style="color: #ffa2c4">嵌入式系统</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E7%89%A9%E7%90%86%E5%B1%82/" style="color: #03a9f4">物理层</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E6%BA%90%E4%BB%A3%E7%A0%81/" style="color: #ffa2c4">源代码</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <blockquote>
<p>IIC（Inter-Integrated Circuit）是一种由飞利浦公司开发的串行通信总线协议，旨在简化集成电路之间的通信。它由两根线组成：串行数据线（SDA）和串行时钟线（SCL）。IIC 总线支持多主设备和多从设备的连接，因此非常适用于各种嵌入式系统和电子设备之间的通信。<br>作者将在本文对IIC深入地进行介绍和代码解释。</p>
</blockquote>
<span id="more"></span>

<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a><strong>介绍</strong></h1><h2 id="IIC-的应用领域"><a href="#IIC-的应用领域" class="headerlink" title="IIC 的应用领域"></a>IIC 的应用领域</h2><p><strong>嵌入式系统</strong><br>在嵌入式系统中，IIC 被广泛应用于各种设备之间的通信和控制，例如单片机、嵌入式处理器、传感器等。其简单的硬件连接和灵活的通信特性使得它成为嵌入式系统中的重要通信标准。<br><strong>消费电子产品</strong><br>消费电子产品如智能手机、平板电脑、数码相机等也采用 IIC 作为连接外设的接口。诸如触摸屏、加速度计、陀螺仪等各种传感器和控制器通过 IIC 接口与主控制器进行通信。<br><strong>工业自动化</strong><br>工业自动化领域也大量采用 IIC 技术，用于连接各种传感器、执行器和控制单元，实现设备之间的数据交换和控制指令传输。这在工厂自动化、机器人技术等方面发挥着重要作用。<br><strong>汽车电子</strong><br>现代汽车中的许多电子设备，如仪表盘、空调控制、安全气囊等，也广泛采用 IIC 总线进行通信。IIC 技术在汽车电子领域的应用使得各个功能模块可以方便地进行数据交换和控制命令传输。<br>总的来说，IIC 在各种需要不同设备之间进行简单、可靠通信的场景中发挥着重要作用，为设备间的数据传输和控制提供了便利和效率。</p>
<h1 id="硬件原理"><a href="#硬件原理" class="headerlink" title="硬件原理"></a><strong>硬件原理</strong></h1><h2 id="IIC-总线的基本原理"><a href="#IIC-总线的基本原理" class="headerlink" title="IIC 总线的基本原理"></a>IIC 总线的基本原理</h2><h3 id="IIC-总线的基本原理-1"><a href="#IIC-总线的基本原理-1" class="headerlink" title="IIC 总线的基本原理"></a>IIC 总线的基本原理</h3><p>IIC 总线是一种串行通信协议，基于两根线：串行数据线（SDA）和串行时钟线（SCL）。其中，SDA 用于传输数据，而 SCL 用于同步数据传输的时钟信号。这种双线制的设计使得 IIC 总线能够支持多主设备和多从设备的连接，实现简单而可靠的通信。</p>
<h3 id="IIC-主从设备的工作模式"><a href="#IIC-主从设备的工作模式" class="headerlink" title="IIC 主从设备的工作模式"></a>IIC 主从设备的工作模式</h3><ul>
<li><strong>主设备</strong>：主设备负责发起通信和控制总线访问权限。它会向从设备发送读&#x2F;写命令，并在必要时生成时钟信号来同步数据传输。</li>
<li><strong>从设备</strong>：从设备响应主设备的指令，并负责在适当的时机传输数据。从设备需要监视总线上的命令，并根据主设备的指令执行相应的读&#x2F;写操作。</li>
</ul>
<h3 id="IIC-的物理层特性"><a href="#IIC-的物理层特性" class="headerlink" title="IIC 的物理层特性"></a>IIC 的物理层特性</h3><p>IIC 总线的物理层特性包括以下几个方面：</p>
<ul>
<li><strong>双线制</strong>：IIC 使用两根线进行通信，即串行数据线（SDA）和串行时钟线（SCL）。</li>
<li><img src="https://echobox-1307380937.cos.ap-shanghai.myqcloud.com/echo/202311101611881.png" alt="image-20231110161144837"></li>
<li><strong>开漏架构</strong>：IIC 总线采用开漏输出结构，设备在输出逻辑低电平时是有效的，而在输出逻辑高电平时是高阻态的。这种设计使得多个设备可以共享总线，并且能够避免总线冲突。<br><img src="https://echobox-1307380937.cos.ap-shanghai.myqcloud.com/echo/202311101613710.png" alt="img"></li>
<li><strong>上拉电阻</strong>：为了确保总线上的信号正常传输，通常在 SDA 和 SCL 上都会连接上拉电阻，以保证在设备未驱动时信号线为高电平状态。<br><img src="https://echobox-1307380937.cos.ap-shanghai.myqcloud.com/echo/202311101616356.png" alt="img"></li>
</ul>
<h3 id="IIC-的时序图解析"><a href="#IIC-的时序图解析" class="headerlink" title="IIC 的时序图解析"></a>IIC 的时序图解析</h3><p>IIC 的时序图描述了主从设备在总线上进行数据传输的时序关系。在一个典型的 IIC 数据传输过程中，包括起始条件、地址传输、数据传输和停止条件等环节。时序图清晰地展示了各个信号线上的电平变化和数据传输的顺序，有助于理解和分析 IIC 总线的工作原理和数据交换流程。</p>
<p><img src="https://echobox-1307380937.cos.ap-shanghai.myqcloud.com/echo/202311101620858.png" alt="image-20231110162023805"></p>
<h2 id="IIC-主从设备的工作模式-1"><a href="#IIC-主从设备的工作模式-1" class="headerlink" title="IIC 主从设备的工作模式"></a>IIC 主从设备的工作模式</h2><h2 id="IIC-的物理层特性-1"><a href="#IIC-的物理层特性-1" class="headerlink" title="IIC 的物理层特性"></a>IIC 的物理层特性</h2><h2 id="IIC-的时序图解析-1"><a href="#IIC-的时序图解析-1" class="headerlink" title="IIC 的时序图解析"></a>IIC 的时序图解析</h2><h1 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a><strong>源代码</strong></h1><h2 id="IIC-主设备的初始化配置"><a href="#IIC-主设备的初始化配置" class="headerlink" title="IIC 主设备的初始化配置"></a>IIC 主设备的初始化配置</h2><h2 id="读取数据的操作流程"><a href="#读取数据的操作流程" class="headerlink" title="读取数据的操作流程"></a>读取数据的操作流程</h2><h2 id="写入数据的操作流程"><a href="#写入数据的操作流程" class="headerlink" title="写入数据的操作流程"></a>写入数据的操作流程</h2><h2 id="错误处理与调试技巧"><a href="#错误处理与调试技巧" class="headerlink" title="错误处理与调试技巧"></a>错误处理与调试技巧</h2>
    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2023 Echoのせかい
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;江城子echo
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
<canvas
    id="fireworks"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 32767"
></canvas>
<script src="https://cdn.staticfile.org/animejs/3.2.1/anime.min.js"></script>
<script src="/js/fireworks.min.js"></script>
<canvas
    id="background"
    style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: -1"
></canvas>
<script src="/js/background.min.js"></script>
</html>
